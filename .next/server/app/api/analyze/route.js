"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze/route";
exports.ids = ["app/api/analyze/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=E%3A%5C000-cursor_study%5CCinema_Poster%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C000-cursor_study%5CCinema_Poster&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=E%3A%5C000-cursor_study%5CCinema_Poster%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C000-cursor_study%5CCinema_Poster&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_000_cursor_study_Cinema_Poster_src_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/analyze/route.ts */ \"(rsc)/./src/app/api/analyze/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze/route\",\n        pathname: \"/api/analyze\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze/route\"\n    },\n    resolvedPagePath: \"E:\\\\000-cursor_study\\\\Cinema_Poster\\\\src\\\\app\\\\api\\\\analyze\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_000_cursor_study_Cinema_Poster_src_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analyze/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZSUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDMDAwLWN1cnNvcl9zdHVkeSU1Q0NpbmVtYV9Qb3N0ZXIlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUMwMDAtY3Vyc29yX3N0dWR5JTVDQ2luZW1hX1Bvc3RlciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDcUI7QUFDbEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaW5lbWFfcG9zdGVyLz8yODRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXDAwMC1jdXJzb3Jfc3R1ZHlcXFxcQ2luZW1hX1Bvc3RlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXplXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXplL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYW5hbHl6ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5hbHl6ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkU6XFxcXDAwMC1jdXJzb3Jfc3R1ZHlcXFxcQ2luZW1hX1Bvc3RlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXplXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hbmFseXplL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=E%3A%5C000-cursor_study%5CCinema_Poster%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C000-cursor_study%5CCinema_Poster&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/analyze/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/analyze/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/**\n * 视频分析 API 路由\n * 使用 Gemini API 分析视频链接并生成海报文案\n */ \n// Gemini API 配置\nconst GEMINI_API_KEY = process.env.GEMINI_API_KEY || \"\";\nconst GEMINI_BASE_URL = process.env.GEMINI_BASE_URL || \"https://generativelanguage.googleapis.com/v1beta\";\n/**\n * 构建 Gemini API 请求的 Prompt\n */ function buildPrompt(url, pageTitle, pageDescription) {\n    return `为动画短片生成推荐文案（JSON格式）。\n\n${pageTitle ? `标题：${pageTitle}` : \"\"}\n${pageDescription ? `简介：${pageDescription}` : \"\"}\n\n要求：\n1. **title**: 中文标题，外文作品附原名，如\"鹬 (Piper)\"\n\n2. **tags**: 2-3个标签\n   - 类型：国外动画短片、皮克斯、迪士尼、吉卜力、独立艺术短片等\n   - 荣誉：奥斯卡获奖、国际获奖等\n   - 主题：成长、友情、勇气等\n\n3. **description** (80字内): 精炼概括核心冲突/亮点，不流水账\n\n4. **recommendation** (60字内): 从艺术风格、情感共鸣、适合年龄三个维度分析。自然口语化，禁用\"教育意义\"、\"培养能力\"、\"懂得道理\"等说教词汇\n\n示例：\n{\n  \"title\": \"鹬 (Piper)\",\n  \"tags\": [\"国外动画短片\", \"皮克斯\", \"奥斯卡获奖\"],\n  \"description\": \"小海鸟怕水却要学觅食。海浪一次次打来，它从躲避到观察螃蟹，发现了水下的奇妙世界。\",\n  \"recommendation\": \"画面像珠宝般精致，每一帧都是壁纸。小鸟从害怕到好奇的转变，3岁孩子都能看懂。6分钟，不需要对白。\"\n}\n\n返回JSON：`;\n}\n/**\n * 尝试从 URL 获取网页元信息\n */ async function fetchPageMeta(url) {\n    try {\n        // 设置超时\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>controller.abort(), 5000);\n        const response = await fetch(url, {\n            signal: controller.signal,\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\n            }\n        });\n        clearTimeout(timeoutId);\n        if (!response.ok) {\n            return {};\n        }\n        const html = await response.text();\n        // 提取 title\n        const titleMatch = html.match(/<title[^>]*>([^<]+)<\\/title>/i);\n        const title = titleMatch ? titleMatch[1].trim() : undefined;\n        // 提取 meta description\n        const descMatch = html.match(/<meta[^>]*name=[\"']description[\"'][^>]*content=[\"']([^\"']+)[\"']/i);\n        const description = descMatch ? descMatch[1].trim() : undefined;\n        return {\n            title,\n            description\n        };\n    } catch (error) {\n        console.log(\"获取网页元信息失败:\", error);\n        return {};\n    }\n}\n/**\n * 调用 Gemini API（OpenAI 兼容格式，适用于 aihubmix.com 等代理平台）\n */ async function callGeminiAPI(prompt) {\n    // 使用 OpenAI 兼容的 chat/completions 端点\n    const apiUrl = `${GEMINI_BASE_URL}/chat/completions`;\n    // 可选模型：gemini-1.5-pro, gemini-1.5-flash, gemini-pro 等\n    // aihubmix.com 推荐使用 gemini-1.5-pro 或 gemini-1.5-flash\n    const model = process.env.GEMINI_MODEL || \"gemini-1.5-flash\";\n    const response = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${GEMINI_API_KEY}`\n        },\n        body: JSON.stringify({\n            model: model,\n            messages: [\n                {\n                    role: \"system\",\n                    content: \"你是内容推荐专家。文案自然口语化，禁用说教词汇。返回JSON格式。\"\n                },\n                {\n                    role: \"user\",\n                    content: prompt\n                }\n            ],\n            temperature: 0.7,\n            max_tokens: 2048\n        })\n    });\n    if (!response.ok) {\n        const errorText = await response.text();\n        console.error(\"Gemini API 错误:\", errorText);\n        throw new Error(`Gemini API 调用失败: ${response.status} - ${errorText}`);\n    }\n    const data = await response.json();\n    // OpenAI 格式的响应提取\n    const generatedText = data.choices?.[0]?.message?.content;\n    if (!generatedText) {\n        throw new Error(\"Gemini API 返回内容为空\");\n    }\n    return generatedText;\n}\n/**\n * 解析 AI 返回的 JSON\n */ function parseAIResponse(text) {\n    console.log(\"AI 原始返回内容:\", text);\n    try {\n        let jsonStr = text.trim();\n        // 方法1: 移除 markdown 代码块标记\n        if (jsonStr.startsWith(\"```json\")) {\n            jsonStr = jsonStr.slice(7);\n        } else if (jsonStr.startsWith(\"```\")) {\n            jsonStr = jsonStr.slice(3);\n        }\n        if (jsonStr.endsWith(\"```\")) {\n            jsonStr = jsonStr.slice(0, -3);\n        }\n        jsonStr = jsonStr.trim();\n        // 方法2: 尝试从文本中提取 JSON 对象\n        if (!jsonStr.startsWith(\"{\")) {\n            const jsonMatch = jsonStr.match(/\\{[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                jsonStr = jsonMatch[0];\n            }\n        }\n        console.log(\"清理后的 JSON 字符串:\", jsonStr);\n        const parsed = JSON.parse(jsonStr);\n        return {\n            title: parsed.title || \"未知标题\",\n            tags: Array.isArray(parsed.tags) ? parsed.tags : [\n                \"动画短片\"\n            ],\n            description: parsed.description || parsed.summary || \"暂无简介\",\n            recommendation: parsed.recommendation || parsed.quote || '\"这是一部值得观看的作品。\"'\n        };\n    } catch (error) {\n        console.error(\"JSON 解析失败，原始文本:\", text);\n        console.error(\"解析错误:\", error);\n        // 尝试从非 JSON 格式中提取信息\n        try {\n            const titleMatch = text.match(/title[\"\\s:]+[\"']?([^\"'\\n,}]+)/i);\n            const descMatch = text.match(/description[\"\\s:]+[\"']?([^\"'\\n}]+)/i);\n            if (titleMatch || descMatch) {\n                return {\n                    title: titleMatch?.[1]?.trim() || \"未知标题\",\n                    tags: [\n                        \"动画短片\"\n                    ],\n                    description: descMatch?.[1]?.trim() || \"暂无简介\",\n                    recommendation: '\"这是一部值得观看的作品。\"'\n                };\n            }\n        } catch  {}\n        throw new Error(\"AI 返回格式解析失败，请重试\");\n    }\n}\n/**\n * POST 请求处理\n */ async function POST(request) {\n    try {\n        // 检查 API Key\n        if (!GEMINI_API_KEY) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"未配置 Gemini API Key，请在 .env.local 中设置 GEMINI_API_KEY\"\n            }, {\n                status: 500\n            });\n        }\n        // 解析请求体\n        const body = await request.json();\n        const { url } = body;\n        if (!url) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"请提供视频链接\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"开始分析视频:\", url);\n        // 1. 尝试获取网页元信息\n        const pageMeta = await fetchPageMeta(url);\n        console.log(\"网页元信息:\", pageMeta);\n        // 2. 构建 Prompt\n        const prompt = buildPrompt(url, pageMeta.title, pageMeta.description);\n        // 3. 调用 Gemini API\n        const aiResponse = await callGeminiAPI(prompt);\n        console.log(\"AI 原始返回:\", aiResponse);\n        // 4. 解析响应\n        const posterData = parseAIResponse(aiResponse);\n        console.log(\"解析后的数据:\", posterData);\n        // 5. 返回结果\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: posterData\n        });\n    } catch (error) {\n        console.error(\"分析失败:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"分析失败，请重试\",\n            success: false\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWNDO1FBQ3ZDSCxRQUFRQyxHQUFHLENBQUMsWUFBWXdDO1FBRXhCLFVBQVU7UUFDVixNQUFNQyxhQUFhbEIsZ0JBQWdCaUI7UUFDbkN6QyxRQUFRQyxHQUFHLENBQUMsV0FBV3lDO1FBRXZCLFVBQVU7UUFDVixPQUFPekUscURBQVlBLENBQUNtRCxJQUFJLENBQUM7WUFDdkJ1QixTQUFTO1lBQ1R4QixNQUFNdUI7UUFDUjtJQUVGLEVBQUUsT0FBTzNDLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLFNBQVNBO1FBQ3ZCLE9BQU85QixxREFBWUEsQ0FBQ21ELElBQUksQ0FDdEI7WUFDRXJCLE9BQU9BLGlCQUFpQmtCLFFBQVFsQixNQUFNd0IsT0FBTyxHQUFHO1lBQ2hEb0IsU0FBUztRQUNYLEdBQ0E7WUFBRXpCLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2luZW1hX3Bvc3Rlci8uL3NyYy9hcHAvYXBpL2FuYWx5emUvcm91dGUudHM/MDdkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOinhumikeWIhuaekCBBUEkg6Lev55SxXG4gKiDkvb/nlKggR2VtaW5pIEFQSSDliIbmnpDop4bpopHpk77mjqXlubbnlJ/miJDmtbfmiqXmlofmoYhcbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5cbi8vIEdlbWluaSBBUEkg6YWN572uXG5jb25zdCBHRU1JTklfQVBJX0tFWSA9IHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZIHx8ICcnXG5jb25zdCBHRU1JTklfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5HRU1JTklfQkFTRV9VUkwgfHwgJ2h0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YSdcblxuLyoqXG4gKiBBSSDnlJ/miJDnmoTmtbfmiqXmlbDmja7mjqXlj6NcbiAqL1xuaW50ZXJmYWNlIEdlbmVyYXRlZFBvc3RlckRhdGEge1xuICB0aXRsZTogc3RyaW5nXG4gIHRhZ3M6IHN0cmluZ1tdXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgcmVjb21tZW5kYXRpb246IHN0cmluZ1xufVxuXG4vKipcbiAqIOaehOW7uiBHZW1pbmkgQVBJIOivt+axgueahCBQcm9tcHRcbiAqL1xuZnVuY3Rpb24gYnVpbGRQcm9tcHQodXJsOiBzdHJpbmcsIHBhZ2VUaXRsZT86IHN0cmluZywgcGFnZURlc2NyaXB0aW9uPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGDkuLrliqjnlLvnn63niYfnlJ/miJDmjqjojZDmlofmoYjvvIhKU09O5qC85byP77yJ44CCXG5cbiR7cGFnZVRpdGxlID8gYOagh+mimO+8miR7cGFnZVRpdGxlfWAgOiAnJ31cbiR7cGFnZURlc2NyaXB0aW9uID8gYOeugOS7i++8miR7cGFnZURlc2NyaXB0aW9ufWAgOiAnJ31cblxu6KaB5rGC77yaXG4xLiAqKnRpdGxlKio6IOS4reaWh+agh+mimO+8jOWkluaWh+S9nOWTgemZhOWOn+WQje+8jOWmglwi6bmsIChQaXBlcilcIlxuXG4yLiAqKnRhZ3MqKjogMi0z5Liq5qCH562+XG4gICAtIOexu+Wei++8muWbveWkluWKqOeUu+efreeJh+OAgeearuWFi+aWr+OAgei/quWjq+WwvOOAgeWQieWNnOWKm+OAgeeLrOeri+iJuuacr+efreeJh+etiVxuICAgLSDojaPoqonvvJrlpaXmlq/ljaHojrflpZbjgIHlm73pmYXojrflpZbnrYlcbiAgIC0g5Li76aKY77ya5oiQ6ZW/44CB5Y+L5oOF44CB5YuH5rCU562JXG5cbjMuICoqZGVzY3JpcHRpb24qKiAoODDlrZflhoUpOiDnsr7ngrzmpoLmi6zmoLjlv4PlhrLnqoEv5Lqu54K577yM5LiN5rWB5rC06LSmXG5cbjQuICoqcmVjb21tZW5kYXRpb24qKiAoNjDlrZflhoUpOiDku47oibrmnK/po47moLzjgIHmg4XmhJ/lhbHpuKPjgIHpgILlkIjlubTpvoTkuInkuKrnu7TluqbliIbmnpDjgILoh6rnhLblj6Por63ljJbvvIznpoHnlKhcIuaVmeiCsuaEj+S5iVwi44CBXCLln7nlhbvog73liptcIuOAgVwi5oeC5b6X6YGT55CGXCLnrYnor7TmlZnor43msYdcblxu56S65L6L77yaXG57XG4gIFwidGl0bGVcIjogXCLpuawgKFBpcGVyKVwiLFxuICBcInRhZ3NcIjogW1wi5Zu95aSW5Yqo55S755+t54mHXCIsIFwi55qu5YWL5pavXCIsIFwi5aWl5pav5Y2h6I635aWWXCJdLFxuICBcImRlc2NyaXB0aW9uXCI6IFwi5bCP5rW36bif5oCV5rC05Y206KaB5a2m6KeF6aOf44CC5rW35rWq5LiA5qyh5qyh5omT5p2l77yM5a6D5LuO6Lqy6YG/5Yiw6KeC5a+f6J6D6J+577yM5Y+R546w5LqG5rC05LiL55qE5aWH5aaZ5LiW55WM44CCXCIsXG4gIFwicmVjb21tZW5kYXRpb25cIjogXCLnlLvpnaLlg4/nj6Dlrp3oiKznsr7oh7TvvIzmr4/kuIDluKfpg73mmK/lo4HnurjjgILlsI/puJ/ku47lrrPmgJXliLDlpb3lpYfnmoTovazlj5jvvIwz5bKB5a2p5a2Q6YO96IO955yL5oeC44CCNuWIhumSn++8jOS4jemcgOimgeWvueeZveOAglwiXG59XG5cbui/lOWbnkpTT07vvJpgXG59XG5cbi8qKlxuICog5bCd6K+V5LuOIFVSTCDojrflj5bnvZHpobXlhYPkv6Hmga9cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hQYWdlTWV0YSh1cmw6IHN0cmluZyk6IFByb21pc2U8eyB0aXRsZT86IHN0cmluZzsgZGVzY3JpcHRpb24/OiBzdHJpbmcgfT4ge1xuICB0cnkge1xuICAgIC8vIOiuvue9rui2heaXtlxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgNTAwMClcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2JyxcbiAgICAgIH0sXG4gICAgfSlcbiAgICBcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKVxuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiB7fVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgXG4gICAgLy8g5o+Q5Y+WIHRpdGxlXG4gICAgY29uc3QgdGl0bGVNYXRjaCA9IGh0bWwubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKyk8XFwvdGl0bGU+L2kpXG4gICAgY29uc3QgdGl0bGUgPSB0aXRsZU1hdGNoID8gdGl0bGVNYXRjaFsxXS50cmltKCkgOiB1bmRlZmluZWRcbiAgICBcbiAgICAvLyDmj5Dlj5YgbWV0YSBkZXNjcmlwdGlvblxuICAgIGNvbnN0IGRlc2NNYXRjaCA9IGh0bWwubWF0Y2goLzxtZXRhW14+XSpuYW1lPVtcIiddZGVzY3JpcHRpb25bXCInXVtePl0qY29udGVudD1bXCInXShbXlwiJ10rKVtcIiddL2kpXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkZXNjTWF0Y2ggPyBkZXNjTWF0Y2hbMV0udHJpbSgpIDogdW5kZWZpbmVkXG4gICAgXG4gICAgcmV0dXJuIHsgdGl0bGUsIGRlc2NyaXB0aW9uIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygn6I635Y+W572R6aG15YWD5L+h5oGv5aSx6LSlOicsIGVycm9yKVxuICAgIHJldHVybiB7fVxuICB9XG59XG5cbi8qKlxuICog6LCD55SoIEdlbWluaSBBUEnvvIhPcGVuQUkg5YW85a655qC85byP77yM6YCC55So5LqOIGFpaHVibWl4LmNvbSDnrYnku6PnkIblubPlj7DvvIlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY2FsbEdlbWluaUFQSShwcm9tcHQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIC8vIOS9v+eUqCBPcGVuQUkg5YW85a6555qEIGNoYXQvY29tcGxldGlvbnMg56uv54K5XG4gIGNvbnN0IGFwaVVybCA9IGAke0dFTUlOSV9CQVNFX1VSTH0vY2hhdC9jb21wbGV0aW9uc2BcbiAgXG4gIC8vIOWPr+mAieaooeWei++8mmdlbWluaS0xLjUtcHJvLCBnZW1pbmktMS41LWZsYXNoLCBnZW1pbmktcHJvIOetiVxuICAvLyBhaWh1Ym1peC5jb20g5o6o6I2Q5L2/55SoIGdlbWluaS0xLjUtcHJvIOaIliBnZW1pbmktMS41LWZsYXNoXG4gIGNvbnN0IG1vZGVsID0gcHJvY2Vzcy5lbnYuR0VNSU5JX01PREVMIHx8ICdnZW1pbmktMS41LWZsYXNoJ1xuICBcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7R0VNSU5JX0FQSV9LRVl9YCxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICBjb250ZW50OiAn5L2g5piv5YaF5a655o6o6I2Q5LiT5a6244CC5paH5qGI6Ieq54S25Y+j6K+t5YyW77yM56aB55So6K+05pWZ6K+N5rGH44CC6L+U5ZueSlNPTuagvOW8j+OAgidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIHRlbXBlcmF0dXJlOiAwLjcsXG4gICAgICBtYXhfdG9rZW5zOiAyMDQ4LFxuICAgIH0pXG4gIH0pXG4gIFxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgY29uc29sZS5lcnJvcignR2VtaW5pIEFQSSDplJnor686JywgZXJyb3JUZXh0KVxuICAgIHRocm93IG5ldyBFcnJvcihgR2VtaW5pIEFQSSDosIPnlKjlpLHotKU6ICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3JUZXh0fWApXG4gIH1cbiAgXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgXG4gIC8vIE9wZW5BSSDmoLzlvI/nmoTlk43lupTmj5Dlj5ZcbiAgY29uc3QgZ2VuZXJhdGVkVGV4dCA9IGRhdGEuY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50XG4gIFxuICBpZiAoIWdlbmVyYXRlZFRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0dlbWluaSBBUEkg6L+U5Zue5YaF5a655Li656m6JylcbiAgfVxuICBcbiAgcmV0dXJuIGdlbmVyYXRlZFRleHRcbn1cblxuLyoqXG4gKiDop6PmnpAgQUkg6L+U5Zue55qEIEpTT05cbiAqL1xuZnVuY3Rpb24gcGFyc2VBSVJlc3BvbnNlKHRleHQ6IHN0cmluZyk6IEdlbmVyYXRlZFBvc3RlckRhdGEge1xuICBjb25zb2xlLmxvZygnQUkg5Y6f5aeL6L+U5Zue5YaF5a65OicsIHRleHQpXG4gIFxuICB0cnkge1xuICAgIGxldCBqc29uU3RyID0gdGV4dC50cmltKClcbiAgICBcbiAgICAvLyDmlrnms5UxOiDnp7vpmaQgbWFya2Rvd24g5Luj56CB5Z2X5qCH6K6wXG4gICAgaWYgKGpzb25TdHIuc3RhcnRzV2l0aCgnYGBganNvbicpKSB7XG4gICAgICBqc29uU3RyID0ganNvblN0ci5zbGljZSg3KVxuICAgIH0gZWxzZSBpZiAoanNvblN0ci5zdGFydHNXaXRoKCdgYGAnKSkge1xuICAgICAganNvblN0ciA9IGpzb25TdHIuc2xpY2UoMylcbiAgICB9XG4gICAgaWYgKGpzb25TdHIuZW5kc1dpdGgoJ2BgYCcpKSB7XG4gICAgICBqc29uU3RyID0ganNvblN0ci5zbGljZSgwLCAtMylcbiAgICB9XG4gICAganNvblN0ciA9IGpzb25TdHIudHJpbSgpXG4gICAgXG4gICAgLy8g5pa55rOVMjog5bCd6K+V5LuO5paH5pys5Lit5o+Q5Y+WIEpTT04g5a+56LGhXG4gICAgaWYgKCFqc29uU3RyLnN0YXJ0c1dpdGgoJ3snKSkge1xuICAgICAgY29uc3QganNvbk1hdGNoID0ganNvblN0ci5tYXRjaCgvXFx7W1xcc1xcU10qXFx9LylcbiAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAganNvblN0ciA9IGpzb25NYXRjaFswXVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn5riF55CG5ZCO55qEIEpTT04g5a2X56ym5LiyOicsIGpzb25TdHIpXG4gICAgXG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uU3RyKVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogcGFyc2VkLnRpdGxlIHx8ICfmnKrnn6XmoIfpopgnLFxuICAgICAgdGFnczogQXJyYXkuaXNBcnJheShwYXJzZWQudGFncykgPyBwYXJzZWQudGFncyA6IFsn5Yqo55S755+t54mHJ10sXG4gICAgICBkZXNjcmlwdGlvbjogcGFyc2VkLmRlc2NyaXB0aW9uIHx8IHBhcnNlZC5zdW1tYXJ5IHx8ICfmmoLml6DnroDku4snLFxuICAgICAgcmVjb21tZW5kYXRpb246IHBhcnNlZC5yZWNvbW1lbmRhdGlvbiB8fCBwYXJzZWQucXVvdGUgfHwgJ1wi6L+Z5piv5LiA6YOo5YC85b6X6KeC55yL55qE5L2c5ZOB44CCXCInLFxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdKU09OIOino+aekOWksei0pe+8jOWOn+Wni+aWh+acrDonLCB0ZXh0KVxuICAgIGNvbnNvbGUuZXJyb3IoJ+ino+aekOmUmeivrzonLCBlcnJvcilcbiAgICBcbiAgICAvLyDlsJ3or5Xku47pnZ4gSlNPTiDmoLzlvI/kuK3mj5Dlj5bkv6Hmga9cbiAgICB0cnkge1xuICAgICAgY29uc3QgdGl0bGVNYXRjaCA9IHRleHQubWF0Y2goL3RpdGxlW1wiXFxzOl0rW1wiJ10/KFteXCInXFxuLH1dKykvaSlcbiAgICAgIGNvbnN0IGRlc2NNYXRjaCA9IHRleHQubWF0Y2goL2Rlc2NyaXB0aW9uW1wiXFxzOl0rW1wiJ10/KFteXCInXFxufV0rKS9pKVxuICAgICAgXG4gICAgICBpZiAodGl0bGVNYXRjaCB8fCBkZXNjTWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogdGl0bGVNYXRjaD8uWzFdPy50cmltKCkgfHwgJ+acquefpeagh+mimCcsXG4gICAgICAgICAgdGFnczogWyfliqjnlLvnn63niYcnXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY01hdGNoPy5bMV0/LnRyaW0oKSB8fCAn5pqC5peg566A5LuLJyxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbjogJ1wi6L+Z5piv5LiA6YOo5YC85b6X6KeC55yL55qE5L2c5ZOB44CCXCInLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuICAgIFxuICAgIHRocm93IG5ldyBFcnJvcignQUkg6L+U5Zue5qC85byP6Kej5p6Q5aSx6LSl77yM6K+36YeN6K+VJylcbiAgfVxufVxuXG4vKipcbiAqIFBPU1Qg6K+35rGC5aSE55CGXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8g5qOA5p+lIEFQSSBLZXlcbiAgICBpZiAoIUdFTUlOSV9BUElfS0VZKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfmnKrphY3nva4gR2VtaW5pIEFQSSBLZXnvvIzor7flnKggLmVudi5sb2NhbCDkuK3orr7nva4gR0VNSU5JX0FQSV9LRVknIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cbiAgICBcbiAgICAvLyDop6PmnpDor7fmsYLkvZNcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IHVybCB9ID0gYm9keVxuICAgIFxuICAgIGlmICghdXJsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfor7fmj5Dkvpvop4bpopHpk77mjqUnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn5byA5aeL5YiG5p6Q6KeG6aKROicsIHVybClcbiAgICBcbiAgICAvLyAxLiDlsJ3or5Xojrflj5bnvZHpobXlhYPkv6Hmga9cbiAgICBjb25zdCBwYWdlTWV0YSA9IGF3YWl0IGZldGNoUGFnZU1ldGEodXJsKVxuICAgIGNvbnNvbGUubG9nKCfnvZHpobXlhYPkv6Hmga86JywgcGFnZU1ldGEpXG4gICAgXG4gICAgLy8gMi4g5p6E5bu6IFByb21wdFxuICAgIGNvbnN0IHByb21wdCA9IGJ1aWxkUHJvbXB0KHVybCwgcGFnZU1ldGEudGl0bGUsIHBhZ2VNZXRhLmRlc2NyaXB0aW9uKVxuICAgIFxuICAgIC8vIDMuIOiwg+eUqCBHZW1pbmkgQVBJXG4gICAgY29uc3QgYWlSZXNwb25zZSA9IGF3YWl0IGNhbGxHZW1pbmlBUEkocHJvbXB0KVxuICAgIGNvbnNvbGUubG9nKCdBSSDljp/lp4vov5Tlm546JywgYWlSZXNwb25zZSlcbiAgICBcbiAgICAvLyA0LiDop6PmnpDlk43lupRcbiAgICBjb25zdCBwb3N0ZXJEYXRhID0gcGFyc2VBSVJlc3BvbnNlKGFpUmVzcG9uc2UpXG4gICAgY29uc29sZS5sb2coJ+ino+aekOWQjueahOaVsOaNrjonLCBwb3N0ZXJEYXRhKVxuICAgIFxuICAgIC8vIDUuIOi/lOWbnue7k+aenFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogcG9zdGVyRGF0YVxuICAgIH0pXG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5YiG5p6Q5aSx6LSlOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfliIbmnpDlpLHotKXvvIzor7fph43or5UnLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSBcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJHRU1JTklfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQkFTRV9VUkwiLCJidWlsZFByb21wdCIsInVybCIsInBhZ2VUaXRsZSIsInBhZ2VEZXNjcmlwdGlvbiIsImZldGNoUGFnZU1ldGEiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0IiwicmVzcG9uc2UiLCJmZXRjaCIsInNpZ25hbCIsImhlYWRlcnMiLCJjbGVhclRpbWVvdXQiLCJvayIsImh0bWwiLCJ0ZXh0IiwidGl0bGVNYXRjaCIsIm1hdGNoIiwidGl0bGUiLCJ0cmltIiwidW5kZWZpbmVkIiwiZGVzY01hdGNoIiwiZGVzY3JpcHRpb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjYWxsR2VtaW5pQVBJIiwicHJvbXB0IiwiYXBpVXJsIiwibW9kZWwiLCJHRU1JTklfTU9ERUwiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJlcnJvclRleHQiLCJFcnJvciIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwiZ2VuZXJhdGVkVGV4dCIsImNob2ljZXMiLCJtZXNzYWdlIiwicGFyc2VBSVJlc3BvbnNlIiwianNvblN0ciIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImVuZHNXaXRoIiwianNvbk1hdGNoIiwicGFyc2VkIiwicGFyc2UiLCJ0YWdzIiwiQXJyYXkiLCJpc0FycmF5Iiwic3VtbWFyeSIsInJlY29tbWVuZGF0aW9uIiwicXVvdGUiLCJQT1NUIiwicmVxdWVzdCIsInBhZ2VNZXRhIiwiYWlSZXNwb25zZSIsInBvc3RlckRhdGEiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/analyze/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=E%3A%5C000-cursor_study%5CCinema_Poster%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C000-cursor_study%5CCinema_Poster&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();